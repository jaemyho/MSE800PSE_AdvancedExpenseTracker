{% extends 'base.html' %}

{% block content %}
<h2>{{ title }}</h2>
<div class="expense">
    <form action="{% if title == 'Add Expense' %}
    {{ url_for('add_expense') }}
    {% elif title == 'Edit Expense' %}
    {{ url_for('edit_expense', expense_id=expense.id) }}
    {% elif title == 'Delete Expense' %}
    {{ url_for('delete_expense', expense_id=expense.id) }}
    {% else %}
    {{ url_for('add_expense') }}
    {% endif %}" method="POST">
        <!-- Vendor Input -->
        <label for="vendor">Vendor:</label>
        <input type="text" id="vendor" name="vendor" placeholder="Enter Vendor" value="{{ expense.vendor if expense and expense.vendor else '' }}" {% if title == 'Delete Expense' %}disabled{% endif %} required ><br><br>

        <!-- Category Input -->
        <label for="category">Category:</label>
        <input type="text" id="category" name="category" placeholder="Enter Category" value="{{ expense.category_id if expense and expense.category_id else '' }}" {% if title == 'Delete Expense' %}disabled{% endif %} required><br><br>

        <!-- Description Input -->
        <label for="description" style="display: block; margin-bottom: 5px;">Description:</label>
        <textarea id="description" name="description" placeholder="Enter Description"  {% if title == 'Delete Expense' %}disabled{% endif %} required style="height: 100px; width: 400px;" >{{ expense.description if expense and expense.description else '' }}</textarea><br><br>

        <!-- Amount Input -->
        <label for="amount">Amount:</label>
        <!-- Dropdown currencyy -->
        <select id="currency" name="currency" {% if title == 'Delete Expense' %}disabled{% endif %} required>
            <option value="NZD">NZD</option>
            <option value="USD">USD</option>
            <option value="AUD">AUD</option>
        </select>
        <!-- Amount numeric -->
        <input type="number" id="amount" name="amount" placeholder="Enter Amount" value="{{ expense.amount if expense and expense.amount else '' }}" {% if title == 'Delete Expense' %}disabled{% endif %} required><br><br>

        <!-- Expense Date -->
        <label for="expense_date">Date:</label>
        <input type="date" id="expense_date" name="expense_date" placeholder="Enter Date" value="{{ expense.date if expense and expense.date else '' }}" {% if title == 'Delete Expense' %}disabled{% endif %} required><br><br>

        <div class="button-container">
            <!-- Submit Button -->
            <input type="submit" value="{{ title }}">

            {% if title == 'Edit Expense' or title == 'Delete Expense' %}
            <!-- Back Button -->
            <a href="{{ url_for('report') }}" class="back-button">Back</a>
            {% endif %}
        </div>
    </form>
</div>
{% endblock %}